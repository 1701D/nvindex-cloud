x-google-marketplace:
  schemaVersion: v2
  applicationApiVersion: v1beta1
  publishedVersion: '2.2.2'
  publishedVersionMetadata:
    releaseNote: >-
      Initial release.
    releaseTypes:
    - Feature
    recommended: true

  clusterConstraints:
    resources:
    - requests:
        gpu:
          nvidia.com/gpu: {}
  images:
    '':
      properties:
        nvindex.image.registry:
          type: REGISTRY
        nvindex.image.repository:
            type: REPO_WITHOUT_REGISTRY
        nvindex.image.tag:
            type: TAG
    nginx:
      properties:
        nginx.image.registry:
          type: REGISTRY
        nginx.image.repository:
            type: REPO_WITHOUT_REGISTRY
        nginx.image.tag:
            type: TAG
    gcloudsdk:
      properties:
        gcloudsdk.image.registry:
          type: REGISTRY
        gcloudsdk.image.repository:
            type: REPO_WITHOUT_REGISTRY
        gcloudsdk.image.tag:
            type: TAG
properties:
  name:
    type: string
    x-google-marketplace:
      type: NAME
  namespace:
    type: string
    x-google-marketplace:
      type: NAMESPACE
  deployerImage:
    type: string
    x-google-marketplace:
      type: DEPLOYER_IMAGE
  nodeCount:
    title: Number of nodes to span.
    type: integer
    default: 1
  gpuCount:
    title: Number of NVIDIA GPUs per node (must exist in cluster).
    type: integer
    default: 1
  viewerGeneratedPassword:
    type: string
    x-google-marketplace:
      type: GENERATED_PASSWORD
      generatedPassword:
        length: 12
  genCertificate:
    type: string
    x-google-marketplace:
      type: TLS_CERTIFICATE
      tlsCertificate:
        generatedProperties:
          base64EncodedPrivateKey: tls.base64EncodedPrivateKey
          base64EncodedCertificate: tls.base64EncodedCertificate
  dataLocation:
    type: string
    title: Bucket where data is stored. Read documentation on format.
    default: gs://nvindex-data-samples/scenes
required:
- name
- namespace
- deployerImage
- nodeCount
- gpuCount
- viewerGeneratedPassword
- genCertificate
- dataLocation
form:
- widget: help
  description: My arbitrary <i>description</i>
